# data_base
Лабораторные работы по Базам Данных

Тема: библиотека

Автор: Закаулова Софья, 02271-ДБ

---

<img width="1026" height="609" alt="image" src="https://github.com/user-attachments/assets/1297d828-2ae4-4784-a701-5c37ba9ceabb" />

# Лабораторная работа №1

Проектирование структуры базы данных

## Структура базы данных

### 1. Таблица library

Хранит информацию о библиотеках.

| Поле            | Тип     | Описание                            |
| --------------- | ------- | ----------------------------------- |
| library_id (PK) | int     | Уникальный идентификатор библиотеки |
| name            | varchar | Название библиотеки                 |
| address         | varchar | Адрес                               |
| type            | varchar | Тип библиотеки                      |
| phone_number    | varchar | Номер телефона                      |
| email           | varchar | Email                               |
Связи:
- 1 ко многим → book (одна библиотека содержит много книг).

### 2. Таблица book
Содержит информацию о книгах, принадлежащих библиотекам.

| Поле                | Тип     | Описание             |
| ------------------- | ------- | -------------------- |
| book_id (PK)        | int     | Идентификатор книги  |
| library_id (FK)     | int     | Ссылка на библиотеку |
| title               | varchar | Название книги       |
| genre               | varchar | Жанр                 |
| year_of_publication | int     | Год публикации       |

Связи:
- 1 ко многим → library
- Многие ко многим → writer (через таблицу authors_of_books)
- 1 ко многим → reservation

### 3. Таблица writer

Хранит информацию об авторах книг.

| Поле           | Тип     | Описание                |
| -------------- | ------- | ----------------------- |
| writer_id (PK) | int     | Идентификатор автора    |
| first_name     | varchar | Имя                     |
| last_name      | varchar | Фамилия                 |
| country        | varchar | Страна происхождения    |
| date_of_birth  | date    | Дата рождения           |
| date_of_death  | date    | Дата смерти (если есть) |


### 4. Таблица authors_of_books (связующая, M:N)

Реализует связь книга — автор, т.к. одна книга может иметь нескольких авторов, и один автор может написать множество книг.

| Поле               | Тип | Описание         |
| ------------------ | --- | ---------------- |
| book_id (PK, FK)   | int | Ссылка на книгу  |
| writer_id (PK, FK) | int | Ссылка на автора |

Особенности:
- Композитный первичный ключ исключает дублирование связей.

### 5. Таблица customer

Хранит данные читателей, которые могут бронировать книги.

| Поле             | Тип     | Описание               |
| ---------------- | ------- | ---------------------- |
| customer_id (PK) | int     | Идентификатор читателя |
| first_name       | varchar | Имя                    |
| last_name        | varchar | Фамилия                |
| phone_number     | varchar | Телефон                |
| email            | varchar | Email                  |
| date_of_birth    | date    | Дата рождения          |

### 6. Таблица reservation

Содержит информацию о бронировании книг читателями.

| Поле                | Тип  | Описание                   |
| ------------------- | ---- | -------------------------- |
| reservation_id (PK) | int  | Идентификатор бронирования |
| customer_id (FK)    | int  | Кто бронирует              |
| book_id (FK)        | int  | Какая книга                |
| start_date          | date | Дата начала бронирования   |
| end_date            | date | Дата окончания             |

Связи:
- Каждая запись относится к одному клиенту и одной книге.

Отношения: 
- Клиент 1:N бронирования, книга 1:N бронирования.
---
## Нормализация до 3NF

Проект полностью удовлетворяет требованиям 1NF, 2NF и 3NF. Ниже — обоснование.

### 1NF — Первая нормальная форма

Требования:
- Отсутствие повторяющихся групп и списков;
- Все поля атомарные.

В БД:
- Каждый атрибут содержит только одно значение (нет массивов или вложенных структур);
- Все строки уникальны по первичным ключам;
- Таблицы не содержат повторяющихся колонок (например, author1, author2 — связь вынесена в отдельную таблицу).

→ Условия 1NF выполнены.

### 2NF — Вторая нормальная форма

Требования:
- Соответствие 1NF;
- Отсутствие частичных зависимостей неключевых атрибутов от части составного ключа.

В БД:
- Составной ключ существует только в таблице authors_of_books, но там нет дополнительных неключевых атрибутов → частичных зависимостей нет.
- В остальных таблицах используются простые ключи (одно поле → одна запись), значит частичных зависимостей не может быть по определению.

→ Условия 2NF выполнены.

### 3NF — Третья нормальная форма

Требования:
- Соответствие 2NF;
- Отсутствие транзитивных зависимостей, то есть неключевые поля не зависят друг от друга.

В БД:
- В таблицах все неключевые атрибуты зависят ТОЛЬКО от своих первичных ключей.
Примеры:
- В book поля title, genre, year_of_publication зависят только от book_id.
- В customer телефон, email, ФИО зависят только от customer_id.
- В reservation даты зависят только от reservation_id, а не от customer_id или book_id.
- Нет полей, которые могли бы зависеть транзитивно друг от друга (например, адрес не хранится в таблице customers).

→ База данных нормализована до 3NF.

✔️ Итог

ER-модель и структура таблиц полностью соответствуют требованиям нормализации до третьей нормальной формы. База данных корректно разделена на логические сущности, избавлена от дублирования данных, обеспечивает целостность и гибкость для дальнейшего расширения.
